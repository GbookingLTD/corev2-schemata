$schema: "http://json-schema.org/draft-07/schema#"
$id: "schemas-json/controllers/crackSlots/GetCRACResourcesAndRooms.request.schema.json"
title: "CracSlots.GetCRACResourcesAndRooms.request"
type: "object"
definitions:
  ResourceFilter:
    type: "object"
    additionalProperties: true
    required: ["id", "duration"]
    properties:
      id:
        description: "идентификатор ресурса"
        type: "string"
      duration:
        type: "number"

  Request:
    type: "object"
    additionalProperties: true
    required: ["params"]
    properties:
      params:
        description: "параметры запроса"
        type: "object"
        additionalProperties: false
        required: ["business", "filters"]
        properties:
          business:
            type: "object"
            additionalProperties: false
            required: ["id", "widget_configuration", "general_info"]
            properties:
              id:
                type: "string"
              widget_configuration:
                type: "object"
                additionalProperties: false
                required: ["cracServer"]
                properties:
                  cracServer:
                    type: "string"
                  mostFreeEnable:
                    type: "boolean"
              general_info:
                type: "object"
                additionalProperties: false
                required: ["timezone"]
                properties:
                  timezone:
                    type: "string"
          filters:
            type: "object"
            additionalProperties: false
            required: ["resources", "taxonomies", "rooms", "date"]
            properties:
              resources:
                type: "array"
                items:
                  $ref: "#/definitions/ResourceFilter"
              taxonomies:
                type: "array"
                items:
                  type: "string"
              rooms:
                type: "array"
                items:
                  type: "string"
              date:
                type: "object"
                additionalProperties: false
                required: ["from", "to"]
                properties:
                  from:
                    type: "string"
                    format: "date-time"
                  to:
                    type: "string"
                    format: "date-time"

allOf:
  - $ref: "../../common/request.schema.json"
  - $ref: "#/definitions/Request"

