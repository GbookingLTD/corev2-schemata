$schema: "http://json-schema.org/draft-07/schema#"
$id: "schemas-json/controllers/appointment/reserve_appointment.response.schema.json"
title: "appointment.reserve_appointment.response"
type: "object"
definitions:
  ErrorCodes:
    type: "object"
    required: ["error"]
    additionalProperties: true
    properties:
      error:
        oneOf:
          - $ref: "../../common/partials/authErrorCodes.schema.json"
          - type: "object"
            required: ["code"]
            additionalProperties: true
            properties:
              code:
                description: "код ошибки"
                type: "number"
                enum:
                  - -10000
                  - -10001
                  - -10200
                  - -11800
                  - -14500
                  - -14600
                  - -14610
                  - -14650
                  - -14700
                  - -14800
                  - -14900
                  - -14901
                  - -15200

  ErrorResponse:
    allOf:
      - $ref: "../../common/errorResponse.schema.json"
      - $ref: "#/definitions/ErrorCodes"

  SuccessResponse:
    type: "object"
    additionalProperties: false
    properties:
      jsonrpc:
        description: "версия протокола (2.0)"
        type: "string"
        const: "2.0"
      id:
        description: "значение числового типа для идентификации запроса на сервере"
        type: "number"
      result:
        description: "данные, передаваемые в ответ"
        $ref: "../../models/appointment.schema.json"
    required:
      - "jsonrpc"
      - "id"
      - "result"

oneOf:
  - $ref: "#/definitions/SuccessResponse"
  - $ref: "#/definitions/ErrorResponse"
